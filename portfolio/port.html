<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Moustapha Farah — Portfolio en Géomatique pour le Climat & la Météo</title>

<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: { extend: { colors: { accent:'#00e6a8', neon:'#00eaff', night:'#071018' } } }
  }
</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">

<style>
  /* --- Configuration & Styles Globaux --- */
  :root { --accent-glow: rgba(0, 230, 168, 0.3); --accent-glow-hover: rgba(0, 230, 168, 0.5); --neon-glow: rgba(0, 234, 255, 0.4); }
  html, body { height:100%; margin:0; font-family: 'Inter', sans-serif; }
  body { background: linear-gradient(180deg,#03060a 0%, #071018 100%); color:#e6eef3; overflow-x:hidden; /* Empêche le défilement horizontal */ }
  h1, h2, h3 { font-family: 'Orbitron', sans-serif; }
  
  /* --- Arrière-plan & Effets Visuels --- */
  .profile-bg { position:fixed; inset:0; z-index:0; background-position:center; background-size:cover; filter: blur(5px) brightness(.4); transform: scale(1.03); }
  .grain { position:fixed; inset:0; z-index:1; pointer-events:none; background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="1.5" numOctaves="3" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)"/></svg>'); mix-blend-mode:overlay; opacity:.04; }
  .ui { position:relative; z-index:5; }
  
  /* --- Composant : Carte "Glassmorphism" --- */
  .glass { 
    background: rgba(10, 25, 40, 0.4); 
    border: 1px solid rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(8px); 
    border-radius:1rem; 
    transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  }
  .glass:hover { 
    transform: translateY(-5px); 
    box-shadow: 0 10px 30px rgba(0,0,0,0.4), 0 0 20px var(--accent-glow-hover);
    border-color: rgba(0, 230, 168, 0.6); 
  }

  /* --- Mise en page principale --- */
#globe-canvas { 
  position:fixed; right:0; top:0; 
  width:55vw;   /* réduit de 58vw -> 55vw */
  height:100vh; z-index:2; opacity:0.9; cursor: grab; 
}
  #globe-canvas:active { cursor: grabbing; }
  .content { 
    position:fixed; left:4vw; top:50%; transform: translateY(-50%); 
    width:36vw; /* CORRIGÉ : Réduit de 38vw pour éviter le dépassement */
    max-width:600px; z-index:6; 
  }
  .header-section { margin-bottom: 20px; } 
  .expertise { display:grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap:12px; margin-top:0; } 
  .realisations { position:fixed; right:4vw; top:6vh; width:25vw; max-width:380px; z-index:7; }
  .realisations .buttons-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

  /* --- Typographie & Titres --- */
  h1 { text-shadow: 0 0 10px var(--accent-glow); font-size: 2.25rem; } 
  .realisations h2 { font-size:1.2rem; color:#00e6a8; margin-bottom:10px; text-align:center; text-shadow: 0 0 8px var(--accent-glow); }

  /* --- Composants UI Spécifiques --- */
  #avatar { width: 100px; height: 100px; border-radius: 50%; background-size: cover; background-position: center; border: 3px solid var(--accent-color, #00e6a8); box-shadow: 0 0 20px var(--accent-glow); }
  .expertise-card { padding: 12px; cursor: default; }
  .expertise-card .icon { font-size: 1.2rem; margin-bottom: 4px; color: #00eaff; }
  .expertise-card h3 { font-size: 0.9rem; }
  .expertise-card p { font-size: 0.75rem; }
  .action-button { padding: 8px 12px; background:#00e6a8; border:none; border-radius:0.5rem; color:#071018; font-weight:bold; cursor:pointer; transition:0.3s; font-family:'Orbitron', sans-serif; box-shadow: 0 0 8px var(--accent-glow); text-align: center; }
  .action-button:hover { transform:scale(1.05); background:#00ffaa; box-shadow: 0 0 15px var(--accent-glow-hover); }
  .realtime-apps { position:fixed; bottom: 3vh; left: 65%; transform:translateX(-50%); display:flex; gap:0.8rem; z-index:8; }
  .app-card { padding: 10px; min-width: 130px; text-align: center; }
  .app-card .icon { font-size: 1.8rem; }
  .live-badge { animation: blink 1.s infinite; position:absolute; top:6px; right:6px; background:red; color:white; font-size:0.5rem; font-weight:bold; padding:2px 5px; border-radius:0.5rem; }
  @keyframes blink { 0%,100%{opacity:1; box-shadow: 0 0 5px red;} 50%{opacity:0.4;} }
  
  /* --- Styles des Fenêtres Modales --- */
  .modal-overlay { display:none; position:fixed; inset:0; z-index:999; background: rgba(3, 6, 10, 0.7); backdrop-filter: blur(10px); justify-content:center; align-items:center; opacity:0; transition: opacity 0.3s ease; }
  .modal-overlay.show { display:flex; opacity:1; }
  .modal-overlay .modal-container { transform: scale(0.95); transition: transform 0.3s ease; }
  .modal-overlay.show .modal-container { transform: scale(1); }
  .modal-content { display: flex; flex-direction: column; background: rgba(7, 16, 24, 0.8); border:1px solid rgba(255,255,255,0.1); backdrop-filter: blur(12px); padding:24px; border-radius:1rem; max-width:850px; width:95vw; max-height:80vh; position:relative; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
  .close-button { position:absolute; top:10px; right:12px; font-size:1.8rem; line-height: 1; cursor:pointer; color:#00e6a8; transition: transform 0.2s; }
  .close-button:hover { transform: scale(1.2) rotate(90deg); }
  .modal-overlay h3 { color:#00e6a8; margin-bottom: 1rem; font-size: 1.7rem; text-shadow: 0 0 8px var(--accent-glow); }
  
  /* --- Styles Spécifiques : Modale Projets --- */
  #projectModal .modal-body { display: flex; gap: 24px; overflow-y: auto; }
  #projectModal .media-column { flex: 3; min-width: 0; }
  #projectModal .info-column { flex: 2; min-width: 0; }
  #projectMedia { width:100%; min-height: 300px; border-radius:0.5rem; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.2); overflow: hidden; }
  #projectDescription, #projectTools { font-size: 0.85rem; color: #cdd; line-height: 1.5; margin-bottom: 1rem; } 
  #projectModal .info-column h4 { margin-top: 1rem; margin-bottom: 0.6rem; }
  #projectTools ul { list-style: none; padding: 0; display: flex; flex-wrap: wrap; }
  #projectTools li { background: rgba(0, 234, 255, 0.1); padding: 3px 8px; margin-bottom: 6px; border-radius: 4px; display: inline-block; margin-right: 6px; font-size: 0.75rem; }
  #projectThumbs { display:flex; gap:10px; overflow-x:auto; padding:10px 0; scroll-behavior:smooth; }
  #projectThumbs::-webkit-scrollbar, #awardTweet::-webkit-scrollbar { height:8px; width: 8px; }
  #projectThumbs::-webkit-scrollbar-thumb, #awardTweet::-webkit-scrollbar-thumb { background:rgba(0, 230, 168, 0.7); border-radius:4px; }
  #projectThumbs .thumb-item img { width:90px; height:60px; object-fit:cover; border-radius:0.5rem; opacity:0.6; border:3px solid transparent; transition: all 0.3s ease; cursor: pointer; }
  #projectThumbs .thumb-item.active img, #projectThumbs .thumb-item:hover img { opacity:1; border-color:#00e6a8; transform:scale(1.05); box-shadow: 0 0 10px var(--accent-glow); }
  
  /* --- Styles Spécifiques : Loader & Distinction --- */
  #projectLoader { text-align: center; color: var(--accent-color, #00e6a8); }
  .loader { width: 48px; height: 48px; border: 3px solid #FFF; border-bottom-color: #00e6a8; border-radius: 50%; display: inline-block; box-sizing: border-box; animation: rotation 1s linear infinite; }
  @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  #awardButton { position: fixed; bottom: 3vh; right: 4vw; z-index: 8; padding: 12px; font-size: 2rem; line-height: 1; cursor: pointer; animation: pulse-glow 2.5s infinite; }
  @keyframes pulse-glow { 0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(0, 234, 255, 0.0); filter: drop-shadow(0 0 5px rgba(0, 234, 255, 0)); } 50% { transform: scale(1.05); box-shadow: 0 0 25px var(--neon-glow); filter: drop-shadow(0 0 15px var(--neon-glow)); } }
  #awardModal .modal-content { max-width: 560px; }
  #awardModal .modal-body { text-align: center; }
  #awardTweet { min-height: 200px; max-height: 45vh; overflow-y: auto; padding-right: 8px; display: flex; justify-content: center; }
  
  /* --- Animations & Pré-chargement --- */
  .anim-fade-up { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
  .anim-fade-up.start { opacity: 1; transform: translateY(0); }
  #preloader { position: fixed; inset:0; background: #071018; z-index: 1000; display: flex; align-items: center; justify-content: center; transition: opacity 0.5s ease; }
  #preloader.hidden { opacity: 0; pointer-events: none; }
  
  /* --- Responsive Design --- */
  @media (max-width:1024px){
    body { overflow-x: hidden; } /* Assurer qu'il n'y a pas de scroll sur mobile non plus */
    #globe-canvas{ position:absolute; top: 0vh; right: -15vw; width:130vw; height:40vh; z-index: 3; opacity: 0.25; } 
    .content{ position:relative; width:auto; max-width:none; left:0; top:0; padding: 12px; transform: none; padding-top: 25vh; }
    .expertise{ grid-template-columns: 1fr 1fr; gap: 8px; }
    .realisations{ position:relative; width:auto; max-width:none; left: 0; top: 0; padding: 12px; margin-top: 10px; }
    .realtime-apps { position: relative; bottom: auto; left: auto; transform: none; justify-content: center; flex-wrap: wrap; padding: 10px; margin-top: 10px; }
    #projectModal .modal-body { flex-direction: column; gap: 16px; }
    #projectMedia { min-height: 220px; }
    .header-section { margin-bottom: 15px; }
    #awardButton { right: 12px; bottom: 12px; font-size: 1.5rem;}
  }
</style>
</head>
<body>

<div id="preloader"><div class="loader"></div></div>
<div id="profileBg" class="profile-bg"></div>
<div class="grain"></div>
<canvas id="globe-canvas"></canvas>

<div class="ui">
  <div class="content">
    <header class="glass p-5 rounded-2xl shadow-xl anim-fade-up header-section">
      <div class="flex items-center gap-4">
        <div id="avatar"></div>
        <div>
          <h1 class="text-3xl font-extrabold text-white">Moustapha Farah</h1>
          <p class="text-base text-slate-300 mt-1">Délégué de Djibouti à l’UN-GGIM • Fondateur de Djib-Carto</p>
        </div>
      </div>
<div class="mt-4 text-slate-200">
<p class="leading-relaxed text-base">
🌍 Passionné par la météorologie et la climatologie, j’exploite la <span class="text-accent font-semibold">télédétection</span> et le <span class="text-accent font-semibold">GeoAI</span> pour transformer les données satellites en outils d’aide à la décision.

🚀 Avec mon initiative <span class="text-neon">Djib-Carto</span>, je rends la donnée géospatiale accessible et utile pour renforcer la résilience climatique en Afrique.
</p>
</div>
    </header>

    <section class="expertise">
      <div class="glass expertise-card anim-fade-up" style="transition-delay: 0.2s;"><div class="icon">🛰️</div><h3 class="text-md font-bold text-accent">Analyse Météo & Climat</h3><p class="text-xs text-slate-300 mt-1">Maîtrise des données ERA5, GRIB, NetCDF pour l'analyse des tendances et des extrêmes.</p></div>
      <div class="glass expertise-card anim-fade-up" style="transition-delay: 0.3s;"><div class="icon">🌍</div><h3 class="text-md font-bold text-accent">SIG pour l'Adaptation</h3><p class="text-xs text-slate-300 mt-1">Modélisation des risques, analyse hydrologique et cartographie pour la sécurité alimentaire.</p></div>
      <div class="glass expertise-card anim-fade-up" style="transition-delay: 0.4s;"><div class="icon">🧠</div><h3 class="text-md font-bold text-accent">GeoAI & Télédétection</h3><p class="text-xs text-slate-300 mt-1"> Classification d'images (Sentinel, Landsat) pour le suivi environnemental.</p></div>
      <div class="glass expertise-card anim-fade-up" style="transition-delay: 0.5s;"><div class="icon">⚙️</div><h3 class="text-md font-bold text-accent">Écosystème & Diffusion</h3><p class="text-xs text-slate-300 mt-1">Google Earth Engine, Python , QGIS, et développement d'outils de Webmapping.</p></div>
    </section>
  </div>

  <div class="realisations glass p-5 anim-fade-up" style="transition-delay: 0.6s;">
    <h2>Explorer Mes Réalisations</h2>
    <div class="buttons-grid mt-3">
      <button class="action-button" onclick="openCategory('MeteorologieClimat')">Météo & Climat</button>
      <button class="action-button" onclick="openCategory('ImpactsAdaptation')">Impacts & Adaptation</button>
      <button class="action-button" onclick="openCategory('SuiviEnvironnemental')">Suivi Environnemental</button>
      <button class="action-button" onclick="openCategory('GeoAIModelisation')">GeoAI & Modélisation</button>
      <button class="action-button" onclick="openCategory('CartoWebApps')">Analyse Spatiale</button>
    </div>
  </div>
  
  <div class="realtime-apps">
    <a href="https://djib-carto.github.io/qualite_air" target="_blank" class="app-card glass anim-fade-up" style="transition-delay: 0.7s;"><span class="live-badge">LIVE</span><div class="icon">🌍</div><h3 class="text-accent text-md">Qualité de l’air</h3><p class="text-xs text-slate-300">Suivi mondial</p></a>
    <a href="https://djib-carto.github.io/meteo.html" target="_blank" class="app-card glass anim-fade-up" style="transition-delay: 0.8s;"><span class="live-badge">LIVE</span><div class="icon">☁️</div><h3 class="text-accent text-md">Météo</h3><p class="text-xs text-slate-300">Instabilité & nuages</p></a>
  </div>
  
  <div id="awardButton" class="glass anim-fade-up" style="transition-delay: 0.9s;" onclick="openAwardModal()">🏆</div>
</div>

<div id="projectModal" class="modal-overlay" onclick="closeModal(this)">
  <div class="modal-container" onclick="event.stopPropagation()">
    <div class="modal-content">
      <span class="close-button" onclick="closeModal(document.getElementById('projectModal'))">&times;</span>
      <div class="modal-body">
        <div class="media-column"><h3 id="projectTitle"></h3><div id="projectMedia"><div id="projectLoader"><div class="loader"></div><p class="mt-4">Chargement de l'animation...</p></div></div></div>
        <div class="info-column"><h4 class="text-lg font-bold text-neon mb-2">Description</h4><p id="projectDescription"></p><h4 class="text-lg font-bold text-neon mt-3 mb-2">Technologies & Données</h4><div id="projectTools"></div><h4 class="text-lg font-bold text-neon mt-3 mb-2">Autres projets</h4><div id="projectThumbs"></div></div>
      </div>
    </div>
  </div>
</div>

<div id="awardModal" class="modal-overlay" onclick="closeModal(this)">
  <div class="modal-container" onclick="event.stopPropagation()">
    <div class="modal-content">
      <span class="close-button" onclick="closeModal(document.getElementById('awardModal'))">&times;</span>
      <div class="modal-body">
          <h3 class="text-lg font-bold text-accent">Lauréat Hackathon (Supporté par l'OMS)</h3>
          <p class="text-sm text-slate-300 mt-1 mb-4">Développement d'une solution de suivi de crise en temps réel. Cette expérience a forgé ma capacité à créer des outils fiables sous pression.</p>
          <div id="awardTweet"><div class="loader"></div></div>
      </div>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script>
// --- 1. CONFIGURATION & INITIALIZATION ---
const PROFILE_PHOTO = 'mougas.png';
const BACKGROUND_IMAGE = 'etoile.jpeg';

document.getElementById('avatar').style.backgroundImage = `url('${PROFILE_PHOTO}')`;
document.getElementById('profileBg').style.backgroundImage = `url('${BACKGROUND_IMAGE}')`;

window.onload = () => {
  document.getElementById('preloader').classList.add('hidden');
  document.querySelectorAll('.anim-fade-up').forEach((el, i) => {
    setTimeout(() => el.classList.add('start'), i * 100);
  });
};


// --- 2. THREE.JS 3D GLOBE ---
// (Note: Code complexe pour l'animation du globe. Aucune modification fonctionnelle apportée.)
const canvas = document.getElementById('globe-canvas'); const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true }); const scene = new THREE.Scene(); const camera = new THREE.PerspectiveCamera(35, canvas.clientWidth / canvas.clientHeight, 0.1, 2000); let earthMesh, cloudMesh, satGroup; function initGlobe() { renderer.setPixelRatio(window.devicePixelRatio); renderer.setSize(canvas.clientWidth, canvas.clientHeight, false); renderer.setClearColor(0x000000, 0); camera.position.set(0, 0, 3.6); scene.add(new THREE.AmbientLight(0x404040, 1.2)); const dirLight = new THREE.DirectionalLight(0xffffff, 1.5); dirLight.position.set(5, 3, 5); scene.add(dirLight); const loader = new THREE.TextureLoader(); const earthGeo = new THREE.SphereGeometry(1, 64, 64); earthMesh = new THREE.Mesh(earthGeo, new THREE.MeshStandardMaterial({ map: loader.load('https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg'), roughness: 1, metalness: 0 })); scene.add(earthMesh); cloudMesh = new THREE.Mesh(earthGeo.clone(), new THREE.MeshLambertMaterial({ map: loader.load('https://threejs.org/examples/textures/planets/earth_clouds_1024.png'), transparent: true, opacity: 0.6 })); scene.add(cloudMesh); satGroup = new THREE.Group(); scene.add(satGroup); spawnSatellites(80);} function createSatelliteMesh() { const satellite = new THREE.Group(); const bodyMat = new THREE.MeshStandardMaterial({ color: 0xcccccc, metalness: 0.9, roughness: 0.4 }); const body = new THREE.Mesh(new THREE.BoxGeometry(0.02, 0.03, 0.02), bodyMat); satellite.add(body); const panelMat = new THREE.MeshStandardMaterial({ color: 0x004488, metalness: 0.2, roughness: 0.7, side: THREE.DoubleSide }); const panelGeo = new THREE.PlaneGeometry(0.1, 0.04); const panel1 = new THREE.Mesh(panelGeo, panelMat); panel1.position.x = 0.06; panel1.rotation.y = Math.PI / 2; satellite.add(panel1); const panel2 = new THREE.Mesh(panelGeo, panelMat); panel2.position.x = -0.06; panel2.rotation.y = Math.PI / 2; satellite.add(panel2); return satellite; } function spawnSatellites(n = 80) { while(satGroup.children.length) satGroup.remove(satGroup.children[0]); for(let i = 0; i < n; i++) { const s = createSatelliteMesh(); s.userData = { r: 1.3 + Math.random() * 0.5, inc: (Math.random() * Math.PI) - Math.PI / 2, lon: Math.random() * Math.PI * 2, speed: 0.4 + Math.random() * 0.5 }; const u = s.userData; s.position.set(Math.cos(u.lon) * Math.cos(u.inc) * u.r, Math.sin(u.inc) * u.r, Math.sin(u.lon) * Math.cos(u.inc) * u.r); satGroup.add(s); }} let isDown = false, lastX = 0, rotY = 0.9, rotX = 0.15, targetRotY = 0.9, targetRotX = 0.15; canvas.addEventListener('pointerdown', e => { isDown = true; lastX = e.clientX; }); window.addEventListener('pointerup', () => { isDown = false; }); window.addEventListener('pointermove', e => { if (!isDown) return; targetRotY += (e.clientX - lastX) * 0.006; lastX = e.clientX; }); function animate() { requestAnimationFrame(animate); const dt = 0.008; targetRotY += dt * 0.1; rotY += (targetRotY - rotY) * 0.05; rotX += (targetRotX - rotX) * 0.05; earthMesh.rotation.y += dt * 0.5; cloudMesh.rotation.y += dt * 0.2; satGroup.rotation.y = rotY; satGroup.rotation.x = rotX; satGroup.children.forEach(s => { s.userData.lon += dt * 0.4 * s.userData.speed; const u = s.userData; s.position.set(Math.cos(u.lon) * Math.cos(u.inc) * u.r, Math.sin(u.inc) * u.r, Math.sin(u.lon) * Math.cos(u.inc) * u.r); s.lookAt(earthMesh.position); }); renderer.render(scene, camera);} function resizeRenderer() { const rect = canvas.getBoundingClientRect(); const w = Math.max(300, rect.width), h = Math.max(200, rect.height); if (canvas.width !== w || canvas.height !== h) renderer.setSize(w, h, false); camera.aspect = w / h; camera.updateProjectionMatrix(); } window.addEventListener('resize', resizeRenderer); initGlobe(); resizeRenderer(); animate();


// --- 3. BASE DE DONNÉES DES PROJETS ---
const projects = {
  "MeteorologieClimat": [
    {
      title: "Animation de la Température Maximale", src: "1726214598058238459", type: "tweet", image: "cap25.png",
      description: "Animation de la température maximale en 2020 à partir des données WorldClim 2.1. La maîtrise des variables atmosphériques fondamentales est essentielle pour toute analyse climatique.",
      tools: ["WorldClim 2.1", "ArcGIS Pro", "Climatologie"]
    },
    {
      title: "Dynamique des Vents avec ERA5", src: "1900183558288736496", type: "tweet", image: "cap4.jpeg",
      description: "Animation des tendances de la vitesse du vent sur plusieurs décennies. Ces données sont fondamentales pour les prévisions météorologiques, les énergies renouvelables et l'étude des événements extrêmes.",
      tools: ["Données ERA5", "GRIB", "Python", "QGIS"]
    },
    {
      title: "Courants Océaniques du Bab-el-Mandeb", src: "1725567684056588321", type: "tweet", image: "cap26.png",
      description: "Animation de la vitesse des courants océaniques dans un détroit stratégique. L'interaction océan-atmosphère est un pilier de la modélisation météorologique et climatique.",
      tools: ["Données HYCOM", "ArcGIS Pro", "Océanographie"]
    },
    {
      title: "Visualisation des Ouragans (1851-2022)", src: "1782064676756468056", type: "tweet", image: "cap27.png",
      description: "Cartographie historique de plus de 170 ans de trajectoires d'ouragans. L'analyse des tendances à long terme des événements extrêmes est cruciale pour comprendre le changement climatique.",
      tools: ["Analyse Historique", "SIG", "Événements Extrêmes"]
    },
    {
      title: "Trajectoire des Poussières Désertiques", src: "1955243891763888221", type: "tweet", image: "cap1.png",
      description: "Analyse et visualisation de la trajectoire des aérosols de poussière. Un outil essentiel pour la prévision de la qualité de l'air et la compréhension des phénomènes météorologiques.",
      tools: ["Copernicus", "ERA5", "CAMS", "QGIS"]
    }
  ],
  "ImpactsAdaptation": [
    {
      title: "Suivi des Sécheresses (Indice SPI)", src: "1828392172384661706", type: "tweet", image: "cap2.png",
      description: "Cartographie de l'Indice de Précipitation Standardisé (SPI) pour le suivi des sécheresses en Afrique (1991-2024). Une ressource vitale pour les systèmes d'alerte précoce et la sécurité alimentaire.",
      tools: ["Données ERA5", "Python", "Google Earth Engine"]
    },
    {
      title: "Indice de Condition de Température (TCI)", src: "1722625680595464325", type: "tweet", image: "cap30.jpeg",
      description: "Utilisation de l'indice TCI, essentiel pour comprendre l'impact des conditions de température sur l'agriculture et les ressources en eau en climat aride et semi-aride.",
      tools: ["TCI", "Analyse Climatique", "Agriculture"]
    },
    {
      title: "Analyse des Cyclones Tropicaux", src: "1913615842622775743", type: "tweet", image: "cap28.png",
      description: "Analyse de l'impact de cyclones comme signe du réchauffement climatique. L'utilisation du radar Sentinel-1 permet d'évaluer les dommages et les inondations post-événement.",
      tools: ["Sentinel-1 SAR", "Gestion des Risques", "Climatologie"]
    },
    {
      title: "Suivi du Barrage de la Renaissance (GERD)", src: "1775230753795649622", type: "tweet", image: "cap31.png",
      description: "Analyse par télédétection de la construction du plus grand barrage d'Afrique. Le suivi des infrastructures hydrologiques majeures est vital pour la sécurité hydrique régionale.",
      tools: ["Télédétection", "Analyse Temporelle", "Gestion de l'Eau"]
    },
    {
      title: "Analyse des Îlots de Chaleur (LST)", src: "1903872520442315129", type: "tweet", image: "cap3.jpeg",
      description: "Étude des variations de la Température de Surface (LST) pour identifier les îlots de chaleur. Une analyse essentielle pour la planification urbaine durable et l'adaptation au changement climatique.",
      tools: ["MODIS", "Google Earth Engine", "Analyse Spatiale"]
    }
  ],
  "SuiviEnvironnemental": [
    {
      title: "Recul de la Mangrove (NDVI)", src: "1952704666631909885", type: "tweet", image: "cap6.png",
      description: "Analyse 'swipe' NDVI montrant le recul d'un écosystème de mangrove vital. Une alerte sur la vulnérabilité des écosystèmes face aux pressions climatiques et humaines.",
      tools: ["Sentinel-2", "NDVI", "QGIS"]
    },
    {
      title: "Détection des Zones Brûlées (NBR)", src: "1931723615256338460", type: "tweet", image: "cap7.png",
      description: "Utilisation de l'indice NBR pour identifier les zones affectées par les incendies. Un outil essentiel pour la gestion post-crise et l'étude de la résilience des écosystèmes.",
      tools: ["Sentinel-2", "Indice NBR", "Télédétection"]
    },
    {
      title: "Suivi de la Biomasse Océanique", src: "1940355945605075304", type: "tweet", image: "cap9.png",
      description: "Animation de la concentration en chlorophylle-a, indicateur du phytoplancton, pour évaluer la santé des écosystèmes marins, sensibles au réchauffement.",
      tools: ["Sentinel-3", "Biologie Marine", "Google Earth Engine"]
    },
    {
      title: "Concentrations de NO₂ (Pollution)", src: "1862059076726714797", type: "tweet", image: "cap5.jpeg",
      description: "Cartographie des concentrations de dioxyde d'azote pour évaluer l'impact des activités humaines sur la qualité de l'air, un facteur clé des conditions atmosphériques locales.",
      tools: ["Sentinel-5P", "Google Earth Engine"]
    },
    {
      title: "Évolution de l'Urbanisation (Nuit)", src: "1911409195703755231", type: "tweet", image: "cap32.png",
      description: "Plus de 30 ans d'évolution de l'urbanisation en Afrique, vue de nuit. L'imagerie nocturne révèle l'expansion des villes, un facteur clé dans les modèles climatiques locaux.",
      tools: ["DMSP", "VIIRS", "Google Earth Engine"]
    }
  ],
  "GeoAIModelisation": [
    {
      title: "Super-Résolution d'Images par IA", src: "1951926487558336754", type: "tweet", image: "cap11.png",
      description: "Amélioration de la résolution d'images Sentinel-2 de 10m à 1m grâce au Deep Learning. Cette innovation décuple les capacités d'analyse pour l'agriculture, l'urbanisme et la surveillance.",
      tools: ["GeoAI", "Deep Learning", "Sentinel-2", "Super-Resolution"]
    },
    {
      title: "Segmentation des Mangroves par IA", src: "1960963782311559610", type: "tweet", image: "cap12.png",
      description: "Utilisation d'embeddings pour segmenter automatiquement les écosystèmes de mangrove. Une approche IA pour un suivi environnemental précis et la détection des changements.",
      tools: ["IA", "Embeddings", "Google Earth Engine", "QGIS"]
    },
    {
      title: "Détection d'Objets par Deep Learning", src: "1811416347244634312", type: "tweet", image: "cap13.png",
      description: "Extraction automatique de bâtiments et routes par IA. Une compétence fondamentale pour la modélisation des risques en zone urbaine et l'analyse de la vulnérabilité.",
      tools: ["GeoAI", "Deep Learning", "Télédétection"]
    },
    {
      title: "Visualisation des Séismes (1961-2023)", src: "1729883433734943190", type: "tweet", image: "cap33.png",
      description: "Animation retraçant plus de 60 ans d'activité sismique. La modélisation des risques naturels est une composante essentielle de la planification pour la résilience.",
      tools: ["Analyse de Risques", "ArcGIS Pro", "DataViz"]
    },
    {
      title: "45 Ans d'Urbanisation à Djibouti", src: "1949764407917007332", type: "tweet", image: "cap14.png",
      description: "Animation de l'expansion urbaine de 1975 à 2020. Combiner des données historiques et GEE permet de modéliser l'impact de l'urbanisation sur le climat local.",
      tools: ["Google Earth Engine", "GHSL Dataset", "Analyse Historique"]
    }
  ],
  "CartoWebApps": [
    {
      title: "Bassins Versants de l'Afrique", src: "1779791154545938849", type: "tweet", image: "cap34.jpeg",
      description: "Délimitation des bassins versants à l'échelle du continent africain. Une compétence fondamentale en analyse hydrologique pour la gestion des ressources en eau transfrontalières.",
      tools: ["Analyse Hydrologique", "SIG", "Gestion de l'Eau"]
    },
    {
      title: "Cartographie des Réseaux Hydrologiques", src: "1904515915888144789", type: "tweet", image: "cap35.jpeg",
      description: "Analyse détaillée du relief et des cours d'eau basée sur les données SRTM de la NASA. Indispensable pour toute étude environnementale locale.",
      tools: ["NASA SRTM", "Hydrologie", "QGIS"]
    },
    {
      title: "Carte Interactive des Câbles Sous-Marins", src: "1939253266023317947", type: "tweet", image: "cap21.jpeg",
      description: "Démonstration de compétences en WebMapping avec une carte interactive complexe. La capacité à diffuser l'information géospatiale via le web est cruciale.",
      tools: ["LeafletJS", "WebMapping", "OpenData"]
    },
    {
      title: "Visualisation 3D de la Couverture du Sol", src: "1807376550964220293", type: "tweet", image: "cap22.png",
      description: "Création d'une carte 3D interactive, offrant une visualisation détaillée pour l'aménagement du territoire et l'analyse environnementale.",
      tools: ["Données ESA", "3D", "WebMapping"]
    },
    {
      title: "Carte de Densité de Population", src: "1724135592248717743", type: "tweet", image: "cap20.jpeg",
      description: "Production d'une carte de densité de population. Une analyse fondamentale pour croiser les données climatiques avec la vulnérabilité des populations.",
      tools: ["Aerialod", "Données Démographiques", "Cartographie"]
    }
  ]
};


// --- 4. LOGIQUE DES MODALES ET DU CONTENU DYNAMIQUE ---
let currentProjects = [], currentIndex = 0;
const projectModal = document.getElementById('projectModal');
const mediaDiv = document.getElementById('projectMedia');
const thumbsDiv = document.getElementById('projectThumbs');
const loaderDiv = document.getElementById('projectLoader');
const titleEl = document.getElementById('projectTitle');
const descriptionEl = document.getElementById('projectDescription');
const toolsEl = document.getElementById('projectTools');

function openCategory(cat) { 
  currentProjects = projects[cat]; 
  if (!currentProjects || currentProjects.length === 0) return; 
  currentIndex = 0; 
  projectModal.classList.add('show'); 
  showProject(); 
}

function showProject() { 
  if (currentIndex < 0 || currentIndex >= currentProjects.length) return; 
  const p = currentProjects[currentIndex]; 
  mediaDiv.innerHTML = ''; 
  mediaDiv.appendChild(loaderDiv); 
  loaderDiv.style.display = 'block'; 
  titleEl.innerText = p.title; 
  descriptionEl.innerText = p.description; 
  toolsEl.innerHTML = '<ul>' + p.tools.map(tool => `<li>${tool}</li>`).join('') + '</ul>'; 
  
  if (p.type === 'tweet' && window.twttr) { 
    twttr.widgets.createTweet(p.src, mediaDiv, { theme: 'dark', align: 'center', conversation: 'none', dnt: true }) 
      .then(el => { 
        loaderDiv.style.display = 'none'; 
        if (!el) { mediaDiv.innerHTML = `<p class="text-red-400 p-4">Impossible de charger le contenu.</p>`; } 
      }); 
  } 
  
  thumbsDiv.innerHTML = ''; 
  currentProjects.forEach((proj, i) => { 
    const thumb = document.createElement('div'); 
    thumb.className = 'thumb-item'; 
    if (i === currentIndex) thumb.classList.add('active'); 
    const img = document.createElement('img'); 
    img.src = proj.image; 
    img.alt = proj.title; 
    img.onerror = () => { img.src = 'https://via.placeholder.com/100x70/071018/00e6a8?text=Media'; }; 
    thumb.appendChild(img); 
    thumb.onclick = (e) => { e.stopPropagation(); currentIndex = i; showProject(); }; 
    thumbsDiv.appendChild(thumb); 
  }); 
  
  const activeThumb = thumbsDiv.querySelector('.active'); 
  if (activeThumb) { 
    activeThumb.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' }); 
  } 
}

const awardModal = document.getElementById('awardModal');
const awardTweetContainer = document.getElementById('awardTweet');
let isTweetLoaded = false;

function openAwardModal() { 
  awardModal.classList.add('show'); 
  if (!isTweetLoaded && window.twttr) { 
    awardTweetContainer.innerHTML = '<div class="loader"></div>'; 
    twttr.widgets.createTweet('1285506708454940672', awardTweetContainer, { theme: 'dark', align: 'center', conversation: 'none', dnt: true }) 
      .then(el => { 
        if (el) { isTweetLoaded = true; } 
        else { awardTweetContainer.innerHTML = `<p class="text-red-400 p-4">Impossible de charger le Tweet.</p>`; } 
      }); 
  } 
}

function closeModal(modalElement) { 
  if (modalElement) { modalElement.classList.remove('show'); } 
  if(modalElement === projectModal) { mediaDiv.innerHTML = ''; } 
}
</script>

</body>
</html>